

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Mapsplice 2 &mdash; DICAST 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/_templates/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/_templates/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Minimap 2" href="minimap.html" />
    <link rel="prev" title="HISAT 2" href="hisat.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/dicast_logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../get-started/setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/setup/git.html">Clone Git Repository</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/setup/docker.html">Setup docker</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/setup/snakemake.html">Install Snakemake</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/setup/input.html">Folder Structure</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../get-started/run.html">Run your analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/run/runscript.html">Use multiple tools at once</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/run/one_tool.html">Run one specific tool</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../get-started/advanced.html">Use advanced options</a><ul class="simple">
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tools.html">General Information</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../mapping.html">Mapping tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="contextmap.html">ContextMap 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="crac.html">Crac</a></li>
<li class="toctree-l2"><a class="reference internal" href="dart.html">Dart</a></li>
<li class="toctree-l2"><a class="reference internal" href="gsnap.html">GSNAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="hisat.html">HISAT 2</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Mapsplice 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="minimap.html">Minimap 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="segemehl.html">Segemehl</a></li>
<li class="toctree-l2"><a class="reference internal" href="star.html">Star</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../splicing.html">Splicing tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../splicing/asgal.html">Asgal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/aspli.html">Aspli</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/cash.html">CASH</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/dartsbht.html">Dartsbht</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/dexseq.html">DEXSeq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/dsplicetype.html">dSpliceType</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/eventpointer.html">Eventpointer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/irfinder.html">Irfinder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/jum.html">JUM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/juncbase.html">Juncbase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/kissplice.html">Kissplice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/leafcutter.html">Leafcutter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/majiq.html">Majiq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/miso.html">Miso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/psisigma.html">psisigma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/rmats.html">rmats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/sajr.html">sajR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/sgseq.html">sgseq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/spladder.html">Spladder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splicing/whippet.html">Whippet</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Further information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../further-information/example-files.html">Examples</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../further-information/faq.html">FAQ</a><ul class="simple">
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DICAST</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../mapping.html">Mapping tools</a> &raquo;</li>
        
      <li>Mapsplice 2</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/tools/mapping/mapsplice.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mapsplice-2">
<h1>Mapsplice 2<a class="headerlink" href="#mapsplice-2" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Mapsplice requires a <a class="reference internal" href="#mapsplice-input"><span class="std std-ref">special input</span></a>: <code class="docutils literal notranslate"><span class="pre">$mapsplice_fastadir_index</span></code> and <code class="docutils literal notranslate"><span class="pre">mapsplice_fastadir_mapping</span></code>.</p>
</div>
<div class="sidebar">
<p class="sidebar-title">Mapsplice Factsheet</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Toolname:</strong></p></td>
<td><p><em>mapsplice</em></p></td>
</tr>
<tr class="row-even"><td><p><strong>Version:</strong></p></td>
<td><p><a class="reference external" href="https://anaconda.org/bioconda/mapsplice">latest conda version</a></p></td>
</tr>
</tbody>
</table>
<p><strong>Required files:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># config.sh</span>
<span class="nv">$fastq</span>
<span class="nv">$gtf</span>
<span class="c1"># mapping_config.sh</span>
<span class="nv">$mapsplice_fastadir_index</span>
<span class="nv">$mapsplice_fastadir_mapping</span>
</pre></div>
</div>
</div>
<p>Mapsplice</p>
<div class="section" id="input-files">
<span id="mapsplice-input"></span><h2>1. Input Files<a class="headerlink" href="#input-files" title="Permalink to this headline">¶</a></h2>
<p>The following files are required to run Mapsplice.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The filepaths assume you are using our <span class="xref std std-doc">folder structure</span>.
Make sure to read the comments (#) as well.</p>
</div>
<dl>
<dt>$fastq</dt><dd><p>Fastq files for paired end mapping. The path variable can be found in <span class="guilabel">scripts/config.sh</span>.
If you want to perform a non differential analysis put your files inside the <span class="guilabel">controldir/fastqir/</span> directory
If you want to compare two different experimental settings (case and control), put your fastq files in the <span class="guilabel">controldir/fastqir/</span>
and <span class="guilabel">casedir/fastqir/</span> folders respectively.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fastq file paths</span>
<span class="c1"># Replace the text between the stars *...* with your file names</span>

input/controldir/fastqir/*yourFastqFile1_*1.fastq
input/controldir/fastqir/*yourFastqFile1_*2.fastq
input/controldir/fastqir/*yourFastqFile2_*1.fastq
input/controldir/fastqir/*yourFastqFile2_*2.fastq
. . .
</pre></div>
</div>
</dd>
<dt>$gtf</dt><dd><p>Gene annotation file in GTF format.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace the text between the stars *...* with your file names</span>

input/*yourGTFfile*.gtf
</pre></div>
</div>
</dd>
<dt>$mapsplice_fastadir_index:</dt><dd><p>Mapsplice requires chromosome-wise fasta files as reference for the <strong>indexing</strong>. The path variable can be found in <span class="guilabel">scripts/mapping_config.sh</span>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Chromosome-wise fasta files paths</span>
<span class="c1"># Replace the text between the stars *...* with your file names</span>

input/fasta_chromosomes/*yourChromosome1*.fa
input/fasta_chromosomes/*yourChromosome2*.fa
input/fasta_chromosomes/*yourChromosome3*.fa
. . .
</pre></div>
</div>
</dd>
<dt>$mapsplice_fastadir_mapping</dt><dd><p>Mapsplice requires a special formatted fasta file for the <strong>mapping</strong> step.
The path variable can be found in <span class="guilabel">scripts/mapping_config.sh</span>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Special formatted mapsplice fasta file.</span>
<span class="c1"># Replace the text between the stars *...* with your file names</span>

input/fasta_mapsplice/*yourFastaForMapsplice*.fa
</pre></div>
</div>
</dd>
<dt>Optional: Index</dt><dd><p>If there is no index it will be automatically built with bowtie1. If you want to rebuild the index anyway set <code class="docutils literal notranslate"><span class="pre">$recompute_index=true</span></code> in <span class="guilabel">scripts/mapping_config.sh</span>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Index files paths</span>
<span class="c1"># Replace the text between the stars *...* with your file names</span>
<span class="c1"># Default variable settings in mapping_config.sh:</span>
<span class="c1">#       indexdir = mapsplice_index</span>
<span class="c1">#         indexname = $fasta_index</span>
<span class="c1"># $fasta to make sure we have the right index for the used fasta file</span>

index/*your <span class="nv">$indexdir</span> variable*/*your <span class="nv">$indexname</span> variable*.1.ebwt
index/*your <span class="nv">$indexdir</span> variable*/*your <span class="nv">$indexname</span> variable*.2.ebwt
index/*your <span class="nv">$indexdir</span> variable*/*your <span class="nv">$indexname</span> variable*.3.ebwt
index/*your <span class="nv">$indexdir</span> variable*/*your <span class="nv">$indexname</span> variable*.4.ebwt
index/*your <span class="nv">$indexdir</span> variable*/*your <span class="nv">$indexname</span> variable*.rev.1.ebwt
index/*your <span class="nv">$indexdir</span> variable*/*your <span class="nv">$indexname</span> variable*.rev.2.ebwt
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="default-parameters">
<h2>2. Default parameters:<a class="headerlink" href="#default-parameters" title="Permalink to this headline">¶</a></h2>
<p>The following parameters are set in the ENTRYPOINT.sh script in our docker to run Mapsplice. The variables can be changed in
<span class="guilabel">scripts/config.sh</span> and <span class="guilabel">scripts/mapping_config.sh</span>
If you want to specify your analysis with different parameters you will have to change the ENTRYPOINT script.
For further information please consult the Mapsplice <a class="reference external" href="http://www.netlab.uky.edu/p/bioinfo/MapSplice2UserGuide">manual</a>.</p>
<blockquote>
<div><dl class="option-list">
<dt><kbd><span class="option">-c</span></kbd></dt>
<dd><p>Mapsplice reference genome in fasta format.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-c <span class="nv">$inputdir</span>/<span class="nv">$mapsplice_fastadir_mapping</span>
</pre></div>
</div>
</dd>
<dt><kbd><span class="option">-x</span></kbd></dt>
<dd><p>Basename of the bowtie1 index.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-x <span class="nv">$indexdir</span>/<span class="nv">$indexname</span>
</pre></div>
</div>
</dd>
</dl>
<p class="attribution">—gene-gtf
The path to the gene annotation file in GTF format for annotation of fusion junctions.</p>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--gene-gtf <span class="nv">$gtf</span>
</pre></div>
</div>
</div></blockquote>
<dl class="option-list">
<dt><kbd><span class="option">-o</span></kbd></dt>
<dd><p>The path to the output file in sam format.
For differential analysis the output will be separated into case and control folder based on the basefolder of the according fastq files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-o <span class="nv">$outdir</span>/controldir/*yourFastqFile1_*mapsplice.sam
</pre></div>
</div>
</dd>
<dt><kbd><span class="option">-p</span></kbd></dt>
<dd><p>Set number of threads to be used during the computation.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># If you use our default parameters and folder structure:</span>
<span class="c1">#       $ncores=4</span>

-p <span class="nv">$ncores</span>
</pre></div>
</div>
</dd>
<dt><kbd><span class="option">-1</span></kbd></dt>
<dd><p>Fastq filename of paired end read 1.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-1 *yourFastqFile1_*1.fastq
</pre></div>
</div>
</dd>
<dt><kbd><span class="option">-2</span></kbd></dt>
<dd><p>Fastq filename of paired end read 2.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-2 *yourFastqFile1_*2.fastq
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="other-comments">
<h2>3. Other comments:<a class="headerlink" href="#other-comments" title="Permalink to this headline">¶</a></h2>
<p>TODO: Add info on .fa file</p>
</div>
<div class="section" id="important-links">
<h2>4. Important links:<a class="headerlink" href="#important-links" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Mapsplice <a class="reference external" href="http://www.netlab.uky.edu/p/bioinfo/MapSplice2UserGuide">manual</a></p></li>
<li><p>Mapsplice publication: <a class="reference external" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2952873/">MapSplice: Accurate mapping of RNA-seq reads for splice junction discovery</a></p></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="minimap.html" class="btn btn-neutral float-right" title="Minimap 2" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="hisat.html" class="btn btn-neutral float-left" title="HISAT 2" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    
  <head>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed">
	</head>
	<style>


/* Sidebar header (and topbar for mobile) */
.wy-side-nav-search, .wy-nav-top {
	background: #60cdbf;
}

/* Caption headers for sidebar */
.caption-text {
	color: #13736a;
}

/*headings*/
h1, h2, .rst-content .toctree-wrapper p.caption, h3, h4, h5, h6, legend {
	font-family: "Roboto Condensed","ff-tisa-web-pro","Georgia",Arial,sans-serif;
}

.rst-content .sidebar .sidebar-title {
	font-family: "Roboto Condensed","ff-tisa-web-pro","Georgia",Arial,sans-serif;
}

/* Warning  */
div .admonition.warning {
	background: #ffa8ae;
}
	
.rst-content .warning .admonition-title {
	background: #8b272e;
}

/* Note */
div .admonition.note {
	background: #b9fff4;
}
	
.rst-content .note .admonition-title {
	background: #1ca58f;
}

/* List  */
.rst-content dl:not(.docutils) dt {
	color: #13736a;
	background: #e7f2fa;
	border-top: solid 2px #13736a;
}

/* code block */

div .highlight {
	background: #d6f1e9;
}

.nv {
	color: #8b272e;
}

/* inline (guilabel) */

.rst-content .guilabel {
border: 1px solid #7fbbe3;
background: #e7f2fa;
border-radius: 1px;
}

/*inline code*/

.rst-content code.literal {
color: #13736a;	
}

/* links */
a {
  color: #13736a;
}



	</style>



</body>
</html>