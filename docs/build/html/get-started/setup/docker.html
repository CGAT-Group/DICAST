

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setup docker &mdash; DICAST 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/_templates/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/_templates/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Install Snakemake" href="snakemake.html" />
    <link rel="prev" title="Directory Structure" href="input.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../contents.html">
          

          
            
            <img src="../../_static/dicast_logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Get started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../setup.html">Setup</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="git.html">Clone Git Repository</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Directory Structure</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Setup docker</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="snakemake.html">Install Snakemake</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../run.html">Run your analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../run/gui.html">Run DICAST with a graphical user interface</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../run/dicast-cli.html">Run DICAST via CLI</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../run/one_tool.html">Run one specific tool via Docker</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../run/outputs.html">DICAST Outputs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuring DICAST</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../config/snakemake_parameters.html">Snakemake parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/ASimulatoR_parameters.html">ASimulatoR parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/general_parameters.html">Tool core parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/as_parameters.html">Alternative splicing tools parameters</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/tools.html">General Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/mapping.html">Mapping tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/bbmap.html">BBMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/contextmap.html">ContextMap 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/crac.html">CRAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/dart.html">Dart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/gsnap.html">GSNAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/hisat.html">HISAT2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/mapsplice.html">MapSplice 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/minimap.html">Minimap2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/segemehl.html">segemehl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/star.html">STAR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/mapping/subjunc.html">Subjunc</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/splicing.html">Splicing tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/asgal.html">ASGAL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/aspli.html">Aspli</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/eventpointer.html">EventPointer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/irfinder.html">IRFinder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/kissplice.html">kisSplice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/majiq.html">MAJIQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/sgseq.html">SGSeq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/spladder.html">SplAdder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/splicing/whippet.html">Whippet</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Further information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../further-information/example-files.html">Examples</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../further-information/faq.html">FAQ</a><ul class="simple">
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">DICAST</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../setup.html">Setup</a> &raquo;</li>
        
      <li>Setup docker</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/get-started/setup/docker.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setup-docker">
<h1>Setup docker<a class="headerlink" href="#setup-docker" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="get-docker-compose-for-your-system-sudo-required">
<h2>1. Get docker-compose  for your system (sudo required)<a class="headerlink" href="#get-docker-compose-for-your-system-sudo-required" title="Permalink to this headline">¶</a></h2>
<p>This requires you to have administrative rights on your computer, or talk to your system administrator about getting Docker &amp; docker-compose on your system and giving you rights to use the docker user group.</p>
<div class="section" id="a-download-docker">
<h3>A. Download Docker<a class="headerlink" href="#a-download-docker" title="Permalink to this headline">¶</a></h3>
<p>Follow the Docker Engine installation manual for getting Docker, your first step. : <a class="reference external" href="https://docs.docker.com/engine/install/">https://docs.docker.com/engine/install/</a></p>
</div>
<div class="section" id="b-post-install-docker-steps">
<h3>B. Post-install Docker steps<a class="headerlink" href="#b-post-install-docker-steps" title="Permalink to this headline">¶</a></h3>
<p>To run DICAST in user mode entirely, please fulfill this <a class="reference external" href="https://docs.docker.com/engine/install/linux-postinstall/#manage-docker-as-a-non-root-user">post-install</a> step to run docker as a non-root user.</p>
</div>
<div class="section" id="c-install-docker-compose">
<h3>C. Install docker-compose<a class="headerlink" href="#c-install-docker-compose" title="Permalink to this headline">¶</a></h3>
<p>This while closely related, docker-compose is the last of DICAST’s docker dependencies. Follow the installation manual from docker-compose.
<a class="reference external" href="https://docs.docker.com/compose/install/#install-compose">https://docs.docker.com/compose/install/#install-compose</a></p>
</div>
<div class="section" id="basic-docker-commands">
<h3>Basic Docker commands<a class="headerlink" href="#basic-docker-commands" title="Permalink to this headline">¶</a></h3>
<p>Should you have docker configured on your system, you shouldn’t run into a permission error for the following commands.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">docker images</span>
</pre></div></div><p>to list docker images in on your computer.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker ps</span>
</pre></div></div><p>to list all running containers only.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker ps -a</span>
</pre></div></div><p>to list all running and stopped containers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker --version</span>
</pre></div></div><p>We support Docker version 19 and above.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker-compose --version</span>
</pre></div></div></div>
</div>
<div class="section" id="build-docker-images-optional">
<h2>2. Build docker images (Optional)<a class="headerlink" href="#build-docker-images-optional" title="Permalink to this headline">¶</a></h2>
<p>While the steps described in this section are handled by DICAST’s graphical interface, it can also be accessed via command line, for more control.</p>
<div class="section" id="build-all-images">
<h3>Build all images<a class="headerlink" href="#build-all-images" title="Permalink to this headline">¶</a></h3>
<p>If you intend to use multiple dockers at once you can use our snakemake pipeline, which will take care of building the docker images.
If you want to build the dockers manually, we provide a <code class="docutils literal notranslate"><span class="pre">docker-compose.yml</span></code> file which will let you build them yourself. You can use the command the following command to build all images.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker-compose -f scripts/Snakemake/docker-compose.yml build</span>
</pre></div></div><p>If you’d like to edit DICAST’s docker-compose file, see the  <a class="reference external" href="https://docs.docker.com/compose/gettingstarted/">docker-compose Manual</a>.</p>
</div>
<div class="section" id="build-one-image">
<h3>Build one image<a class="headerlink" href="#build-one-image" title="Permalink to this headline">¶</a></h3>
<p>If you only want to build one specific docker image, run the following command to first build some core essential containers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker-compose -f scripts/Snakemake/docker-compose.yml build base conda bowtie star</span>
</pre></div></div><p>And if you want to build any of the other tools, use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker-compose -f scripts/Snakemake/docker-compose.yml build &lt;tool&gt;</span>
</pre></div></div><p>Where &lt;tool&gt; needs to be replaced with one or more of the following tools:</p>
<p>bbmap, contextmap, crac, dart, gsnap, hisat, mapsplice, minimap, segemehl, star, subjunc
asgal, aspli, eventpointer, irfinder, majiq, sgseq, spladder, whippet</p>
</div>
</div>
<div class="section" id="pull-docker-images-fail-safe">
<h2>3. Pull docker images (Fail safe)<a class="headerlink" href="#pull-docker-images-fail-safe" title="Permalink to this headline">¶</a></h2>
<p>Should the tool you intended to run, not build locally, it’s also possible to pull them from DICAST’s dockerhub repository at: <a class="reference external" href="https://hub.docker.com/repository/docker/dicastproj/dicast">https://hub.docker.com/repository/docker/dicastproj/dicast</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker pull dicastproj/dicast:tagname</span>
</pre></div></div></div>
<div class="section" id="other-helpful-commands">
<h2>4. Other helpful commands<a class="headerlink" href="#other-helpful-commands" title="Permalink to this headline">¶</a></h2>
<p>To gracefully stop a running docker container (If perhaps snakemake’s process had to be killed):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker stop &lt;docker-container-name/ID&gt;</span>
</pre></div></div><p>Remove an image (to save space, after your analysis):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">docker rmi -f &lt;image id&gt;</span>
</pre></div></div></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="snakemake.html" class="btn btn-neutral float-right" title="Install Snakemake" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="input.html" class="btn btn-neutral float-left" title="Directory Structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    
  <head>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed">
	</head>
	<style>


/* Sidebar header (and topbar for mobile) */
.wy-side-nav-search, .wy-nav-top {
	background: #60cdbf;
}

/* Caption headers for sidebar */
.caption-text {
	color: #13736a;
}

/*headings*/
h1, h2, .rst-content .toctree-wrapper p.caption, h3, h4, h5, h6, legend {
	font-family: "Roboto Condensed","ff-tisa-web-pro","Georgia",Arial,sans-serif;
}

.rst-content .sidebar .sidebar-title {
	font-family: "Roboto Condensed","ff-tisa-web-pro","Georgia",Arial,sans-serif;
}

/* Warning  */
div .admonition.warning {
	background: #ffa8ae;
}
	
.rst-content .warning .admonition-title {
	background: #8b272e;
}

/* Note */
div .admonition.note {
	background: #b9fff4;
}
	
.rst-content .note .admonition-title {
	background: #1ca58f;
}

/* List  */
.rst-content dl:not(.docutils) dt {
	color: #13736a;
	background: #e7f2fa;
	border-top: solid 2px #13736a;
}

/* code block */

div .highlight {
	background: #d6f1e9;
}

.nv {
	color: #8b272e;
}

/* inline (guilabel) */

.rst-content .guilabel {
border: 1px solid #7fbbe3;
background: #e7f2fa;
border-radius: 1px;
}

/*inline code*/

.rst-content code.literal {
color: #13736a;	
}

/* links */
a {
  color: #13736a;
}



	</style>



</body>
</html>